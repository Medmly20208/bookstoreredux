(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{12:function(t,e,n){"use strict";var c=n(18),o=n.n(c),r=n(1);e.a=function(t){return Object(r.jsx)("section",{className:"".concat(o.a.card," ").concat(t.className?t.className:""),children:t.children})}},17:function(t,e,n){t.exports={header:"MainHeader_header__3SxDk"}},18:function(t,e,n){t.exports={card:"Card_card__3NOKb"}},19:function(t,e,n){t.exports={products:"Products_products__1haam"}},20:function(t,e,n){t.exports={container:"Notification_container__2rJ5-"}},28:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var c,o=n(13),r=n.n(o),i=(n(28),n(14)),a=n(8),s=n.n(a),d=n(0),u=n.n(d),l=n(9),j=n.n(l),b=n(2),h=n(3),f=Object(h.b)({name:"cartdisplay",initialState:{show:!1,notification:{shownotification:!1,message:""}},reducers:{showcart:function(t){t.show=!t.show},shownotification:function(t,e){t.notification.shownotification=!0,t.notification.message=e.payload.message,console.log(e.payload.message)}}}),p=f.actions,O=f.reducer,m=n(1),x=function(t){var e=Object(b.b)(),n=Object(b.c)((function(t){return t.cartreducer.content.length}));return Object(m.jsxs)("button",{className:j.a.button,onClick:function(){e(p.showcart())},children:[Object(m.jsx)("span",{children:"My Cart"}),Object(m.jsx)("span",{className:j.a.badge,children:n})]})},g=n(17),_=n.n(g),w=function(t){return Object(m.jsxs)("header",{className:_.a.header,children:[Object(m.jsx)("h1",{children:"ReduxCart"}),Object(m.jsx)("nav",{children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(x,{})})})})]})},y=function(t){return Object(m.jsxs)(d.Fragment,{children:[Object(m.jsx)(w,{}),Object(m.jsx)("main",{children:t.children})]})},v=n(12),C=n(5),k=n.n(C),N=n(4),P=function(t){var e=t.title,n=t.price,c=t.description,o=Object(b.b)();Object(b.c)((function(t){return t}));return Object(m.jsx)("li",{className:k.a.item,children:Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("h3",{children:e}),Object(m.jsxs)("div",{className:k.a.price,children:["$",n.toFixed(2)]})]}),Object(m.jsx)("p",{children:c}),Object(m.jsx)("div",{className:k.a.actions,children:Object(m.jsx)("button",{onClick:function(){o(N.a.addtocart({name:e,description:c,price:n}))},children:"Add to Cart"})})]})})},S=n(19),A=n.n(S),B=function(t){return Object(m.jsxs)("section",{className:A.a.products,children:[Object(m.jsx)("h2",{children:"Buy your favorite products"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)(P,{title:"Test1",price:6,description:"description test1!"}),Object(m.jsx)(P,{title:"Test2",price:6,description:"description test2!"}),Object(m.jsx)(P,{title:"Test3",price:44,description:"description test3"})]})]})},F=n(20),I=n.n(F),J=function(t){return console.log(t.cls),Object(m.jsx)("div",{className:I.a.container,style:{backgroundColor:"".concat(void 0==t.cls?"blue":t.cls)},children:t.title})},R=u.a.lazy((function(){return n.e(3).then(n.bind(null,39))})),T=!0;var E=function(){var t=Object(b.b)(),e=Object(b.c)((function(t){return t.showCart.show})),n=Object(b.c)((function(t){return t.cartreducer})),o=Object(b.c)((function(t){return t.showCart.notification.shownotification})),r=Object(b.c)((function(t){return t.showCart.notification.message}));return Object(d.useEffect)((function(){if(T)T=!1;else{var e=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(p.shownotification({message:"loading"})),c="blue",e.next=4,fetch("https://bookproject-e6125-default-rtdb.firebaseio.com/cart.json",{method:"PUT",body:JSON.stringify({items:n.content}),headers:{"content-type":"application/json"}});case 4:if(e.sent.ok){e.next=7;break}throw new Error("something went wrong");case 7:t(p.shownotification({message:"sent successfully"})),c="#66CC66";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){c="red",t(p.shownotification({message:e.message}))}))}}),[n]),Object(m.jsxs)(u.a.Fragment,{children:[o&&Object(m.jsx)(J,{title:r,cls:c}),Object(m.jsxs)(y,{children:[e&&Object(m.jsx)(d.Suspense,{fallback:Object(m.jsx)("p",{children:"it's loading"}),children:Object(m.jsx)(R,{})}),Object(m.jsx)(B,{})]})]})},M=Object(h.a)({reducer:{cartreducer:N.b,showCart:O}});r.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(b.a,{store:M,children:Object(m.jsx)(E,{})}))},4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(3),o=Object(c.b)({name:"cartreducer",initialState:{content:[]},reducers:{addtocart:function(t,e){var n=0;0==t.content.lentgh&&t.content.push([e.payload.name,e.payload.price,e.payload.description,1]);for(var c=0;c<t.content.length;c++)if(t.content[c][0]==e.payload.name){t.content[c][3]=t.content[c][3]+1,n=1;break}0==n&&t.content.push([e.payload.name,e.payload.price,e.payload.description,1])},addAmount:function(t,e){for(var n=0;n<t.content.length;n++)if(t.content[n][0]==e.payload.name){t.content[n][3]=t.content[n][3]+1;break}},decrementAmount:function(t,e){for(var n=0;n<t.content.length;n++)if(t.content[n][0]==e.payload.name){1==t.content[n][3]?t.content.splice(n,n+1):t.content[n][3]=t.content[n][3]-1;break}}}}),r=o.actions;e.b=o.reducer},5:function(t,e,n){t.exports={item:"ProductItem_item__18Vpx",price:"ProductItem_price__27FuA",actions:"ProductItem_actions__1w9Rt"}},9:function(t,e,n){t.exports={button:"CartButton_button__376G7",badge:"CartButton_badge__3RbO8"}}},[[36,1,2]]]);
//# sourceMappingURL=main.885d71c4.chunk.js.map